# Mỗi dòng tương ứng với một dịch vụ cần theo dõi.
# Định dạng: name|pattern|min_count|warning_sec|high_sec|no_alert
#
# Giải thích:
# - name:        Tên định danh (gọn, không dấu).
# - pattern:     Từ khóa tìm trong `ps -ef` (vd: nginx, java, mysvc.jar).
# - min_count:   Số process tối thiểu cần có.
# - warning_sec: Cảnh báo mức 1 nếu thiếu ≥ thời gian này (giây).
# - high_sec:    Cảnh báo mức 2 nếu thiếu ≥ thời gian này (giây).
# - no_alert:    1 = không cảnh báo, chỉ ghi nhận trạng thái.
#
#Luồng từ Zabbix server:

#1. Zabbix Server: Tạo Item với key proc.check[<name>] (type: Zabbix agent).

#2. User Parameter trong zabbix_agentd.conf: UserParameter=proc.check[*],/etc/zabbix/scripts/check_process.sh $1

#3. Script check_process.sh: Kiểm tra process theo pattern -> Ghi log trạng thái (up/down) -> So sánh thời gian down với warning_sec/high_sec.

#4. Trả về: 0 (OK), 1 (Warning), 2 (High), 3 (Lỗi config), 4 (Info - vừa down).

#5. Telegram: Nếu no_alert=0, Zabbix trigger gửi cảnh báo đến Telegram qua action.

# Ghi chú:
# - Các trường cách nhau bằng dấu | (không có khoảng trắng).
# - Script sẽ tự xử lý cảnh báo INFO khi mới bắt đầu thiếu.
#
# Ví dụ:
abc|abc.jar|1|60|180|0
nginx|nginx|0|0|0|1 # Không cảnh báo, chỉ theo dõi

# Thêm dòng mới bên dưới để cấu hình thêm dịch vụ...
