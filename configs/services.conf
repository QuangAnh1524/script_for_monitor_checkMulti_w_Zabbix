# Mỗi dòng tương ứng với một dịch vụ systemd cần theo dõi.
# Định dạng: name|service_name|min_count|warning_sec|high_sec|no_alert
#
# Giải thích:
# - name:         Tên định danh (gọn, không dấu).
# - service_name: Tên dịch vụ dùng với `systemctl` (vd: nginx, sshd, mysql).
# - min_count:    Số lượng tối thiểu (thường là 1 nếu cần "active").
# - warning_sec:  Cảnh báo mức 1 nếu thiếu ≥ thời gian này (giây).
# - high_sec:     Cảnh báo mức 2 nếu thiếu ≥ thời gian này (giây).
# - no_alert:     1 = không cảnh báo, chỉ ghi nhận trạng thái.

#Luồng từ Zabbix server:

#1. Zabbix Server: Tạo Item với key svc.check[<name>] (type: Zabbix agent).

#2. User Parameter trong zabbix_agentd.conf: UserParameter=svc.check[*],/etc/zabbix/scripts/check_service.sh $1

#3. Script check_service.sh: Kiểm tra trạng thái systemctl -> Ghi log trạng thái (up/down) -> So sánh thời gian down với #warning_sec/high_sec.

#4. Trả về: 0 (OK), 1 (Warning), 2 (High), 3 (Lỗi config), 4 (Info - vừa down).

#5. Telegram: Nếu no_alert=0, Zabbix trigger gửi cảnh báo đến Telegram qua action.
# Ví dụ:
nginx_service|nginx|1|30|90|0
abc|abcd|0|0|0|1 # Chỉ theo dõi, không cảnh báo
